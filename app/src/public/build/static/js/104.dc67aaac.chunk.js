"use strict";(self.webpackChunklight=self.webpackChunklight||[]).push([[104],{104:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=n(439),s=n(165),r=n(861),c=n(791),i=n(689),l=n(184);var u=function(){var e=(0,c.useState)(0),t=(0,a.Z)(e,2),n=t[0],u=t[1],o=(0,c.useState)(1),f=(0,a.Z)(o,2),d=f[0],m=f[1],h=(0,c.useState)(!0),p=(0,a.Z)(h,2),x=p[0],v=p[1],g=(0,c.useRef)(null),j=(0,c.useRef)(null),b=(0,c.useState)(""),N=(0,a.Z)(b,2),k=N[0],T=N[1],C=(0,c.useState)([{IMG_DATA:"",PRODUCT_PK:"",PRODUCT_NM:""},{IMG_DATA:"",PRODUCT_PK:"",PRODUCT_NM:""},{IMG_DATA:"",PRODUCT_PK:"",PRODUCT_NM:""}]),Z=(0,a.Z)(C,2),P=Z[0],y=Z[1],S=(0,c.useState)(""),A=(0,a.Z)(S,2),D=A[0],_=A[1];(0,c.useEffect)((function(){function e(){return(e=(0,r.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://port-0-node-express-jvvy2blmegkftc.sel5.cloudtype.app/api/main",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify()});case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:(n=e.sent).success?y(n.data):alert(n.msg),e.next=12;break;case 11:throw Error("\uc11c\ubc84 \uc751\ub2f5 \uc2e4\ud328");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(Error("\ubd88\ub7ec\uc624\ub294 \uc911 \uc5d0\ub7ec \ubc1c\uc0dd"));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===P[0].IMG_DATA){e.next=5;break}return e.next=3,Promise.all(P.map((function(e){return e="data:image/jpeg;base64,".concat(e.IMG_DATA)})));case 3:t=e.sent,_(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[P]);var E=function(e){var t=e.target.className;u("banner-pre"===t?function(e){return e+1}:function(e){return e-1}),1===n?"banner-pre"===t&&setTimeout((function(){u(-1),T("move")}),300):1!==n&&T(""),-1===n?"banner-next"===t&&setTimeout((function(){u(1),T("move")}),300):-1!==n&&T("")},M=function(e){var t=0;"0"===e.target.id?t=1:"1"===e.target.id?t=0:"2"===e.target.id&&(t=-1),u(t),T("")};(0,c.useEffect)((function(){if(""!==D){var e=j.current.clientWidth+10;!function(e){var t=0;0===e?t=1:1===e?t=0:-1!==e&&2!==e||(t=2),m(t)}(n),g.current.style.transform="translateX("+n*e+"px)"}}),[n,D]),(0,c.useEffect)((function(){var e=setInterval((function(){u((function(e){return e===P.length-2&&setTimeout((function(){T("move"),u(-1)}),300),T(""),e+1}))}),3e3);return!1===x&&clearInterval(e),function(){clearInterval(e)}}),[P.length,x]);var O=function(){v((function(e){return!1===e}))},R=(0,i.s0)();return(0,l.jsxs)("div",{className:"banner",children:[(0,l.jsxs)("div",{className:"banner-header",onMouseEnter:O,onMouseLeave:O,children:[" ",""!==P.h2&&(0,l.jsx)("div",{className:"banner-title",children:(0,l.jsx)("h2",{className:"banner-title-header",children:P[d].PRODUCT_NM})}),""!==D&&(0,l.jsxs)("div",{className:"banner-images ".concat("move"===k?k:""),ref:g,onClick:function(){R("/Products/\uc81c\ud488/\uc0c1\uc138\ud398\uc774\uc9c0",{state:{id:P[d].PRODUCT_PK,img:D[d]}})},children:[(0,l.jsx)("img",{className:"banner-images-index clone",src:D[2],alt:"\uc870\uba85 \uc0ac\uc9c4"}),(0,l.jsx)("img",{className:"banner-images-index",src:D[0],alt:"\uc870\uba85 \uc0ac\uc9c4"}),(0,l.jsx)("img",{className:"banner-images-index",src:D[1],alt:"\uc870\uba85 \uc0ac\uc9c4"}),(0,l.jsx)("img",{className:"banner-images-index",src:D[2],alt:"\uc870\uba85 \uc0ac\uc9c4"}),(0,l.jsx)("img",{className:"banner-images-index clone",src:D[0],alt:"\uc870\uba85 \uc0ac\uc9c4",ref:j})]}),(0,l.jsxs)("div",{className:"banner-arrow",children:[(0,l.jsx)("span",{className:"banner-pre",onClick:E}),(0,l.jsx)("span",{className:"banner-next",onClick:E})]})]}),(0,l.jsxs)("div",{className:"banner-dot",children:[(0,l.jsx)("span",{id:"0",className:"banner-dot-index ".concat(0===d?"current":""),onClick:M}),(0,l.jsx)("span",{id:"1",className:"banner-dot-index ".concat(1===d?"current":""),onClick:M}),(0,l.jsx)("span",{id:"2",className:"banner-dot-index ".concat(2===d?"current":""),onClick:M})]})]})},o=n(433);var f=function(e){var t=(0,c.useState)(0),n=(0,a.Z)(t,2),u=n[0],f=n[1],d=(0,c.useRef)(null),m=(0,c.useRef)(null),h=(0,c.useState)(e.state.hash),p=(0,a.Z)(h,2),x=p[0],v=(p[1],(0,c.useState)("")),g=(0,a.Z)(v,2),j=g[0],b=g[1],N=(0,c.useState)(""),k=(0,a.Z)(N,2),T=k[0],C=k[1],Z=function(e){var t=e.target.className,n=d.current.children.length-5;f("article-pre"===t?0!==u?function(e){return e+1}:0:u!==-n?function(e){return e-1}:-n)};(0,c.useEffect)((function(){if(""!==T){var e=m.current.clientWidth+10;d.current.style.transform="translateX("+u*e+"px)"}}),[u]),(0,c.useEffect)((function(){""!==j&&j.map((function(t,n){t.HASHTAG.includes(e.state.title)&&C((function(e){return[].concat((0,o.Z)(e),[t])}))}))}),[j,e.state.title]),(0,c.useEffect)((function(){function e(){return(e=(0,r.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://port-0-node-express-jvvy2blmegkftc.sel5.cloudtype.app/api/main/hashtag",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(x)});case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:(n=e.sent).success?b(n.data):alert(n.msg),e.next=12;break;case 11:throw Error("\uc11c\ubc84 \uc751\ub2f5 \uc2e4\ud328");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(Error("\ubd88\ub7ec\uc624\ub294 \uc911 \uc5d0\ub7ec \ubc1c\uc0dd"));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x]);var P=(0,i.s0)();return(0,l.jsxs)("div",{className:"article",children:[(0,l.jsx)("h2",{className:"article-title",children:e.state.title}),(0,l.jsxs)("div",{className:"article-image",children:[(0,l.jsxs)("div",{className:"article-arrow",children:[(0,l.jsx)("span",{className:"article-pre",onClick:Z}),(0,l.jsx)("span",{className:"article-next",onClick:Z})]}),(0,l.jsx)("div",{className:"article-recommend",ref:d,children:""!==T&&T.map((function(e,t){return(0,l.jsx)("img",{className:"article-recommend-items",src:"data:image/jpeg;base64,".concat(e.IMG_DATA),alt:"\uc0c1\ud669\ubcc4 \uc870\uba85 \ucd94\ucc9c \uc0ac\uc9c4",ref:m,onClick:function(){return function(e){var t="data:image/jpeg;base64,".concat(e.IMG_DATA);P("/Products/\uc81c\ud488/\uc0c1\uc138\ud398\uc774\uc9c0",{state:{id:e.PRODUCT_PK,img:t}})}(e)}},t)}))})]})]})};var d=function(e){var t=(0,c.useState)(""),n=(0,a.Z)(t,2),s=(n[0],n[1]),r=(0,c.useState)({hashtag1:"\uc544\ub2f4",hashtag2:"\uc2dc\ud06c",hashtag3:"\ud32c\ub358\ud2b8"}),i=(0,a.Z)(r,2),o=i[0];return i[1],(0,c.useEffect)((function(){e&&s(e)}),[e]),(0,l.jsxs)("div",{className:"home",children:[(0,l.jsx)(u,{}),(0,l.jsxs)("section",{className:"home-article",children:[(0,l.jsx)(f,{state:{hash:o,title:o.hashtag1}}),(0,l.jsx)(f,{state:{hash:o,title:o.hashtag2}}),(0,l.jsx)(f,{state:{hash:o,title:o.hashtag3}})]})]})}}}]);
//# sourceMappingURL=104.dc67aaac.chunk.js.map